//! TLS ALpns

#[derive(Debug, PartialEq)]
pub enum Alpn<'r> {
    Http09,
    Http10,
    Http11,
    Spdy1,
    Spdy2,
    Spdy3,
    StunTurn,
    StunNatiscovery,
    H2,
    H2c,
    Unknown(&'r [u8]),
}

impl<'r> From<&'r [u8]> for Alpn<'r> {
    #[inline]
    fn from(r: &'r[u8]) -> Self {
        match r {
            [0x68, 0x74, 0x74, 0x70, 0x2f, 0x30, 0x2e, 0x39] => Self::Http09,
            [0x68, 0x74, 0x74, 0x70, 0x2f, 0x31, 0x2e, 0x30] => Self::Http10,
            [0x68, 0x74, 0x74, 0x70, 0x2f, 0x31, 0x2e, 0x31] => Self::Http11,
            [0x73, 0x70, 0x64, 0x79, 0x2f, 0x31] => Self::Spdy1,
            [0x73, 0x70, 0x64, 0x79, 0x2f, 0x32] => Self::Spdy2,
            [0x73, 0x70, 0x64, 0x79, 0x2f, 0x33] => Self::Spdy3,
            [0x73, 0x74, 0x75, 0x6E, 0x2E, 0x74, 0x75, 0x72, 0x6E] => Self::StunTurn,
            [0x73, 0x74, 0x75, 0x6E, 0x2E, 0x6e, 0x61, 0x74, 0x2d, 0x64, 0x69, 0x73, 0x63, 0x6f, 0x76, 0x65, 0x72, 0x79] => Self::StunNatiscovery,
            [0x68, 0x32] => Self::H2,
            [0x68, 0x32, 0x63] => Self::H2c,
            _ => Self::Unknown(r),
        }
    }
}
